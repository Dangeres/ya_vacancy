<h1 align="center">
  ya_vanancy - мелкий скриптик для выявления новых вакансий компании Yangex.
</h1>

<h4 align="center">Оглавление README:</h4>
<div align="center">
    <a href="#про-скрипт"> • Для чего нужен этот скрипт • </a><br>
    <a href="#установка"> • Установка • </a><br>
    <a href="#внутрянка"> • Что внутри • </a><br>
    <a href="#файл-settingsjson"> • Что такое файл settings.json • </a><br>
    <a href="#примечание"> • Примечание • </a>
</div>


## Про скрипт
У Яндекс на своем сайте имеется список доступных вакансий, который расположен https://yandex.ru/jobs/vacancies/

Данный скрипт собирает все вакансии, сравнивает с тем что уже были обработаны и уведомляет если имеются какие-то новые позиции.

Хочется оперативно реагировать на новые вакансии и не запоминать на какие откликался а на какие не откликался.


## Установка
1. Скачиваете ветку;
2. Устанавливаете python 3.9;
3. Создаете виртуальное окружение `python3.9 -m venv env`
4. Активируете виртуальное окружение и устанавливаете зависимости `pip install -r requirements.txt`
5. Если имеется поднятый микросервис по отправке сообщений в телеграм, то редактируете `settings.json` под себя;
6. Запускаете `main.py` и наслаждаетесь результатом.


## Внутрянка
1. Делается запросик на https://yandex.ru/jobs/vacancies/ и получаются все данные;
2. Преобразуются данные;
3. Сравниваются полученные данные с сохраненными, они хранятся в `vacancy.json` (ничего страшного если запуск первичный и файл отсутствует);
4. Уведомление о новых данных [если в файле `settings.json` указаны данные хоста и сендера, то идет отправка сообщения в телеграм, если нет, просто принтуется].


## Файл settings.json
Файл settings.json имеет формат json, с следующими ключами:

* "host": [str] адрес микросервиса для отправки сообщений в телегу,

* "sender": [str|int] кому отправлять сообщение в телеге, если указана str то будет ресолвить username, если указан int то будет считать что это userid(можно указывать ид канала).


## Примечание
По работе с виртуальными окружениями можно почитать <a href="https://docs.python.org/3/library/venv.html#how-venvs-work"> docs.python.org</a>